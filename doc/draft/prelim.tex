\section{Preliminaries}
\label{sec:prelim}

\subsection{Constructive Solid Geometry}

Constructive solid geometry (CSG) 

\subsection{Bond Graphs}
A bond graph~\cite{Paynter} is a graphical model for dynamic systems.
It expresses how energy is flows between different elements of the system.
Energy is represented by effort and flow which are linked by $\mathit{power} = \mathit{effort} \cdot \mathit{flow}$
Energy flows along the edges and nodes impose constraint on energy and flows. 

There are 5 types of on port nodes:
\begin{description}
\item[R]  Resistance: $e = R \cdot f$
\item[C]  Capacitance: $\dot{e} = f/C$
\item[I]  Inertia: $\dot{f} = e/I$
\item[Se] Source of effort: $e = Se$
\item[Sf] Source of flow: $f = Sf$
\end{description}

Devices like springs, torsion bars, and electrical capacitors are nodes of type C.
I nodes represenst inductance in electrical systems and mass or inertia effects in mechanical systems.

There are 5 types of on port nodes:
\begin{description}
\item[TF] Transformer: $f_1 \cdot r = f_2 \land e_1/r = e_2$
\item[GY] Gyrator: $e_2 = \mu \cdot f_1 \land e_1 = \mu \cdot f_2$
\end{description}
    
An electric motor is such formalism is a gyrator.
The output torque is proportional to the input current and the back electromotive force to the angular speed.


Finally, there are two kinds of junctions, or multiport nodes:
\begin{description}
\item[0 junction] the flow sums to zero and the efforts are equal: $\forall a,b.\, e_a = e_b \land \sum f = 0$
\item[1 junction] the efforts sum to zero and the flows are equal: $\forall a,b.\, f_a = f_b \land \sum e = 0$
\end{description}

Nodes and junctions are connected by edges which corresponds to equality of efforts and flows.

Graphs are multi-domains, i.e., eletrical and mechanical energy can occur in the same graph.
Transformer nodes convert elements between domains.
For instance, an eletric motor convert voltage and current int torque and angular speed.
    
In our context, we need the following energy domain:
\begin{description}
\item[Translation] where the effort is a force (F) expressed in newton (N) and the flow is velocity (v) expressed in m/s.
\item[Rotation] where the effort is a torque ($\tau$) expressed in newton (Nm) and the flow is angular velocity ($\omega$) expressed in rad/s.
\item[Electric] where the effort is a electromotive force (V) expressed in volt (V) and the flow is current (I) expressed in A.
\end{description}


